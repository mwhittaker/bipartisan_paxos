% PODC camera-readies are sigconf formatted.
% PODC requires 11pt font.
% `nonacm` removes all the footer garbage.
% `anonymous` removes the authors. PODC is double-blind.
\documentclass[sigconf, 11pt, nonacm, anonymous]{acmart}

\usepackage{algorithmicx}
\usepackage{algorithm}
\usepackage{booktabs}
\usepackage{algpseudocode}
\usepackage{amsthm}
\usepackage{bpaxos}
\usepackage{lipsum}
\usepackage{pervasives}
\usepackage{subcaption}
\usepackage{tikz}
\usepackage{wrapfig}
\usetikzlibrary{positioning}
\usetikzlibrary{patterns}

% Add page numbers.
\settopmatter{printfolios}

% Remove the "end if" from algorithmicx. See [1].
%
% [1]: https://tex.stackexchange.com/a/53518
\algtext*{EndIf}
\algtext*{EndFor}

% Set the horizontal and vertical margin of wrapfigures [1].
%
% [1]: https://tex.stackexchange.com/a/106146
\setlength{\columnsep}{6pt}
\setlength{\intextsep}{6pt}

% A helpful macro to show the current font size. This is helpful to double
% check that the paper conforms to PODC's style requirements. Taken from [1].
%
% [1]: https://tex.stackexchange.com/a/125174
\makeatletter
\newcommand\thefontsize[1]{{#1 The current font size is: \f@size pt\par}}
\makeatother

\begin{document}

% Note the "title" command has an optional parameter, allowing the author to
% define a "short title" to be used in page headers.
\title{Bipartisan Paxos: A Family of Fast, Leaderless, Modular State Machine Replication Protocols}

% PODC is double blind, so we don't have to put authors here yet.
\author{TODO}
\affiliation{%
  \institution{TODO}
  \streetaddress{TODO}
  \city{TODO}
  \country{TODO}}
\email{TODO}

\author{TODO}
\affiliation{%
  \institution{TODO}
  \streetaddress{TODO}
  \city{TODO}
  \country{TODO}}
\email{TODO}

\author{TODO}
\affiliation{%
  \institution{TODO}
  \streetaddress{TODO}
  \city{TODO}
  \country{TODO}}
\email{TODO}

\author{TODO}
\affiliation{%
  \institution{TODO}
  \streetaddress{TODO}
  \city{TODO}
  \country{TODO}}
\email{TODO}

\author{TODO}
\affiliation{%
  \institution{TODO}
  \streetaddress{TODO}
  \city{TODO}
  \country{TODO}}
\email{TODO}

\renewcommand{\shortauthors}{TODO, et al.}

\newcommand\ion[1]{{\color{green}{Ion: #1}}}

{\input{sections/abstract.tex}}

\maketitle

{\input{sections/introduction.tex}}
{\input{sections/bipartisan_paxos.tex}}
{\input{sections/simple_bpaxos.tex}}
{\input{sections/aside_on_fast_paxos.tex}}
{\input{sections/unsafe_bpaxos.tex}}
{\input{sections/unanimous_bpaxos.tex}}
{\input{sections/deadlock_bpaxos.tex}}
{\input{sections/majority_commit_bpaxos.tex}}
{\input{sections/related_work.tex}}

\bibliographystyle{ACM-Reference-Format}
% Disables small font size in references.
\renewcommand*{\bibfont}{}
\bibliography{references}

\appendix

{\input{sections/formalizing_bpaxos.tex}}
% {\input{sections/conflict_graphs.tex}}
% {\input{sections/generalized_consensus.tex}}
{\input{sections/fast_paxos.tex}}
{\input{sections/deadlock_example.tex}}
{\input{sections/epaxos_and_bpaxos.tex}}

\end{document}
