%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% jsys.sty - JSys style file
% For the use this style file, refer to the template: jsys.tex
%
% v1.0, 12/31/2020
%
% This is a modification of the USENIX sty file for the Journal of
% Systems Research, by Vijay Chidambaram. Borrowing the USENIX sty
% file with permission from Casey Henderson.
%
% This is a double column format with slight modifications for the
% Journal of Systems Research (JSys)
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\if@twocolumn\else\input twocolumn.sty\fi
\usepackage{mathptmx}  % times roman, including math (where possible)

% hopefully embeds all fonts in pdf
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{pslatex}

% appearance
% more compact (and arguably nicer) font
\usepackage[kerning,spacing]{microtype}

% refs and bib
\usepackage{cite}               % order multiple entries in \cite{...}
\usepackage[]{hyperref}         % ...clickable refs within pdf...
\usepackage{breakurl}           % break too-long urls in refs
\usepackage{url}                % allow \url in bibtex for clickable links
\usepackage{xcolor}             % color definitions, to be use for...
\hypersetup{                    % ...like so
  colorlinks,
  linkcolor={green!80!black},
  citecolor={red!70!black},
  urlcolor={blue!70!black}
}

% Additional hooks (provide e.g. BeforeBeginEnvironment)
\usepackage{etoolbox}

% Table
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{tabularx}
\BeforeBeginEnvironment{tabular}{\small}
\AfterEndEnvironment{tabular}{}

% Formatting
\usepackage{fancyhdr}
%
% USENIX wants margins of: 0.75" sides, 1" bottom, and 1" top.
% 0.33" gutter between columns.
% Gives active areas of 7" x 9"
%
\setlength{\textheight}{9.0in}
\setlength{\columnsep}{0.33in}
\setlength{\textwidth}{7.00in}

\setlength{\voffset}{-0.4in}
\setlength{\topmargin}{0.0in}
\setlength{\headheight}{12pt}
\setlength{\headsep}{24pt}
\setlength{\footskip}{40pt}

\setlength{\marginparsep}{0pt}
\setlength{\marginparwidth}{0pt}

\addtolength{\oddsidemargin}{-0.25in}
\addtolength{\evensidemargin}{-0.25in}

% Define ifjsysfinal, set to true if jsysfinalcopy is defined
\newif\ifjsysfinal
\jsysfinalfalse
\def\jsysfinalcopy{\jsysfinaltrue}

% Headers and footers
\pagestyle{fancy}
\fancyhf{}
\fancyhead[l]{Submitted to the Journal of Systems Research (JSys)}
\fancyhead[r]{\the\year{}}
\fancyfoot[c]{\thepage}

% Title stuff, taken from deproc.
\def\maketitle{\par
\begingroup
   \def\thefootnote{\fnsymbol{footnote}}
   \def\@makefnmark{\hbox to 0pt{$^{\@thefnmark}$\hss}} % for perfect author
                                                        % name centering
%   The footnote-mark was overlapping the footnote-text,
%   added the following to fix this problem               (MK)
   \long\def\@makefntext##1{\parindent 1em\noindent
                            \hbox to1.8em{\hss $\m@th ^{\@thefnmark}$}##1}
                          % \@maketitle \@thanks
   \twocolumn[\@maketitle]%
\endgroup
\setcounter{footnote}{0}
\let\maketitle\relax \let\@maketitle\relax
\gdef\@thanks{}\gdef\@author{}\gdef \@title{}\let\thanks\relax}

\def\@maketitle{\newpage
 \vspace*{-1in}
 \vbox to 2.5in{
 \vspace*{\fill}
 \vskip 2em
 \begin{center}%
  {\Large\bf \sc \@title \par}%
  \vskip 0.375in minus 0.300in
  \ifjsysfinal
  {\large\it
   \lineskip .5em
   \begin{tabular}[t]{c}\@author
   \end{tabular}\par}%
  \else
    \begin{tabular}[t]{c}\bf\rule{\z@}{24pt}Anonymous authors\\Paper
    under double-blind review\end{tabular}%
  \fi
 \end{center}%
 \par
 \vspace*{\fill}
 }
}


%
% The abstract is preceded by a 12-pt bold centered heading
%
\def\abstract{\begin{center}%
{\large\bf \abstractname\vspace{-.5em}\vspace{\z@}}%
\end{center}}
\def\endabstract{}

%
% Main section titles are 12-pt bold.  Others can be same or smaller.
%
\def\section{\@startsection {section}{1}{\z@}{-3.5ex plus-1ex minus
    -.2ex}{2.3ex plus.2ex}{\reset@font\large\bf}}

%
% Custom sections
%
\newcommand{\acks}{\section*{Acknowledgement}}
\newcommand{\artifacts}{\section*{Artifacts}}
