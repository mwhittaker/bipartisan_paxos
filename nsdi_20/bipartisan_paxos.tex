\documentclass[letterpaper,twocolumn,10pt]{article}

\usepackage{algorithmicx}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{amsmath}
\usepackage{bm}
\usepackage{booktabs}
\usepackage{calc}
\usepackage{lipsum}
\usepackage{pervasives}
\usepackage{subcaption}
\usepackage{tikz}
\usepackage{usenix2019_v3}
\usepackage{wrapfig}
\usetikzlibrary{calc}
\usetikzlibrary{positioning}

\newcommand{\deps}[1]{\text{deps}}
\newcommand{\msg}[1]{\langle #1 \rangle}
\newcommand{\leadercolor}{flatblue}
\newcommand{\proposercolor}{flatpurple}
\newcommand{\replicacolor}{flatred}
\newcommand{\clientcolor}{white}
\newcommand{\depservicecolor}{flatgreenalt}
\newcommand{\consensuscolor}{flatbrown}

% Remove the "end if" from algorithmicx. See [1].
%
% [1]: https://tex.stackexchange.com/a/53518
\algtext*{EndIf}
\algtext*{EndFor}

% Custom upon ... do block.
\algblockdefx[Upon]{Upon}{EndUpon}
  [1]{\textbf{upon} #1 \textbf{do}}
  {end}
\algtext*{EndUpon}

% Custom State: block.
\algnewcommand{\algorithmicstate}{\textbf{State:}}
\algnewcommand{\GlobalState}{\item[\algorithmicstate]}

\begin{document}
\date{}

\title{Bipartisan Paxos: A Modular State Machine Replication Protocol}

\author{%
  \rm
  Michael Whittaker$^1$,
  Neil Giridharan$^1$,
  Adriana Szekeres$^2$,
  Joseph M. Hellerstein$^1$,
  Ion Stoica$^1$\\
  $^1$UC Berkeley,
  $^2$University of Washington
}

\maketitle

{\input{sections/abstract.tex}}
% {\input{sections/introduction.tex}}
{\input{sections/introduction_v2.tex}}
{\input{sections/background.tex}}
{\input{sections/bpaxos.tex}}
{\input{sections/disaggregation_and_scaling.tex}}
{\input{sections/practical_considerations.tex}}
{\input{sections/evaluation.tex}}
{\input{sections/related_work.tex}}

\bibliographystyle{plain}
\bibliography{references}

\appendix
{\input{appendix/tla_spec.tex}}
\end{document}
